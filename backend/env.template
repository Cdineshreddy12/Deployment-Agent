# ============================================
# Deployment Agent Backend - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp env.template .env

# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
PORT=3000
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000

# ============================================
# Database Configuration
# ============================================
# MongoDB connection string
# Format: mongodb://[username:password@]host[:port][/database][?options]
MONGODB_URI=mongodb://localhost:27017/deployment-agent

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379

# ============================================
# Authentication & Security
# ============================================
# JWT secret key for token signing (use a strong random string)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=8h

# Encryption key for sensitive data (32 bytes hex string)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-encryption-key-32-bytes-hex-string

# ============================================
# Claude AI Configuration
# ============================================
# Get your API key from: https://console.anthropic.com/
CLAUDE_API_KEY=sk-ant-api03-your-claude-api-key-here

# ============================================
# Service Provider Credentials
# ============================================
# NOTE: Credentials are collected dynamically by the AI during deployment
# These are examples - the AI will ask for credentials based on your deployment needs

# AWS Configuration (if deploying to AWS)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# Supabase Configuration (if deploying to Supabase)
SUPABASE_PROJECT_URL=https://your-project.supabase.co
SUPABASE_API_KEY=your-supabase-api-key

# PostgreSQL Configuration (if deploying PostgreSQL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=mydb
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-password
POSTGRES_CONNECTION_STRING=postgresql://user:password@host:port/database

# MongoDB Configuration (if deploying MongoDB)
MONGODB_CONNECTION_STRING=mongodb://user:password@host:port/database

# Redis Configuration (if deploying Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# Elasticsearch/Kibana Configuration (if deploying Elasticsearch)
ELASTICSEARCH_URL=https://your-cluster.es.amazonaws.com
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your-password

# Azure Configuration (if deploying to Azure)
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret
AZURE_TENANT_ID=your-tenant-id

# GCP Configuration (if deploying to GCP)
GCP_PROJECT_ID=your-project-id
GCP_KEY_FILE=/path/to/service-account-key.json

# Terraform State Storage (optional - for state management)
TERRAFORM_STATE_BUCKET=company-terraform-state
TERRAFORM_STATE_TABLE=terraform-state-locks

# ============================================
# MCP (Model Context Protocol) Configuration
# ============================================
# Terraform MCP Server URL
TERRAFORM_MCP_URL=https://mcp.terraform.com/sse

# AWS MCP Server URL
AWS_MCP_URL=https://mcp.aws.com/sse

# Terraform Enterprise/Cloud Configuration (Optional)
# Only needed if using Terraform Cloud or Enterprise
TFE_TOKEN=your-terraform-enterprise-token
TFE_HOSTNAME=app.terraform.io
TFE_SKIP_VERIFY=false
ENABLE_TF_OPERATIONS=false

# ============================================
# GitHub Configuration
# ============================================
# GitHub Personal Access Token (for API access)
# Create at: https://github.com/settings/tokens
# Required scopes: repo, read:org, read:user, workflow
GITHUB_TOKEN=your-github-personal-access-token

# GitHub App Configuration (Alternative to PAT)
# If using GitHub App instead of PAT
GITHUB_APP_ID=your-github-app-id
GITHUB_APP_PRIVATE_KEY=your-github-app-private-key

# GitHub Webhook Secret (for webhook verification)
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# GitHub MCP Server URL (if GitHub MCP server exists)
# Otherwise, GitHub REST API will be used directly
GITHUB_MCP_URL=https://mcp.github.com/sse

# GitHub API Base URL (for GitHub Enterprise)
# Default: https://api.github.com
GITHUB_API_BASE_URL=https://api.github.com

# ============================================
# Security Configuration
# ============================================
# Encryption Key for Credentials (generate with: openssl rand -hex 32)
# This is used to encrypt credentials stored in the database
ENCRYPTION_KEY=your-32-byte-hex-encryption-key-here

# ============================================
# Notification Configuration
# ============================================
# Frontend URL for notification links
FRONTEND_URL=http://localhost:3001

# Slack Webhook (Optional)
# Get from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email/SMTP Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-email-password-or-app-password

# ============================================
# Logging Configuration
# ============================================
# Log levels: error, warn, info, debug
LOG_LEVEL=info

